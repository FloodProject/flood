WIP (work-in-progress)
======================

EDITOR:
-------


Fix terrain painting
Add fixed pipeline animation support
Add bounding box calculation for animated meshes



Fix currentPlugin crasher bug
Update cameras on the editor
Adaptive grid in the editor
To get proper behaviour under all circumstances, picking should be image-based.
When deleting a single node from the scene tree, the Unselected event isn't sent.
Optimize hashing and loading in resources browser (it reads twice)
Reload meshes on the fly
Control resolution of terrains
Better terrain tools
Clone tool
Proper reset sequence
Input events should be sent even when outside viewframe

Gizmo:

	Fix Scale and Rotate gizmos
	Make the Gizmo node transform a proxy of the original
	Get picking working properly with multiple gizmos
	When the Camera moves, mouse should be tested
	Panning is wrong.

Viewframe:

	Wire the camera render mode buttons
	Redraw when a resource gets updated
	
Terrain editing:

	Use a separate VB attribute for the terrain heights
	Projectors/Decals for terrain
	Generic paging interface (WIP)
	Streaming of terrain chunks and textures
	Randomized Perlin noise terrain generation
	Average terrain normals (WIP)

Console:

	Clicks should not change the insertion point
	readline type of library would be kind of nice
	Write a line then go backwards and to the line again and color is white...
	
Options:

	Add a preference pane with:
		- Shortcuts
		- Grid settings
		- Colors
	This can be handled with a Property system (like Firefox).

ENGINE:
-------

Merge mouse events
Fix mesh collide loop overflows
Serialization of group nodes
Add UpdateUI event to Play button.
Physics rotation becomes wrong due to bounding box calculation.
Fix default animation state on skinned meshes with no animation tracks.
Meshes with alpha values need to get ble nding enabled.
Logger can have problems with multiple threads
Add code to generate a default texture

Skydome component:
	
	Separate Clouds component
	Add billboards for Sun and Moon
	Switch to triangle strips
	Fix the gradient color generation
	Add dynamic day-night system

Scene:

	Frustum class (Camera and Light integration) (WIP)
	Quadtree for fast terrain queries
	Geometry component sharing (Instancing)
	Ray query class

Scripting:

	Fix Lua state closing

Textures:
	Support DDS
	Warn and downsample if texture size is not supported
	Resize the sample to nearest-POT if rectangle textures not supported
	Generate and support MIP-maps
	Generate and support normal maps
	Combine and support cubemaps / skybox textures
	Check squish and NVIDIA Texture Tools libraries

Audio:

	Handle audio streaming for lightweight playback without consuming lots of memory
	Debug a crash in triton's desktop with an Audigy 4 (XP BSOD in Creative's driver 'ctaud2k.sys')
	Bundle OpenAL Soft
	
Logger:

	Fix format log time to handle minutes, hours and days
	Use truncation and close file so each log entry gets commited in each write
	The Log class should use the user writing directory for output
	GetLoggers for each class (could be integrated with Profiler? :)
	The Logger should display the date and time of creation
	Typesafe logging (FastFormat API)
	
Resource Management:

	Magic header resource type detection
	Case-insensitive comparisons in map
	
Window:

	Full-screen windowed mode/minimizing doesn't seem to work...
	Make the Engine class take Window creation settings
	The Window title should be set on Window creation
	Move the window polling to a different thread (smooth resizing / maybe SFML itself will do this in 2.0)
	Hide the window until show is requested.
	http://msdn.microsoft.com/en-us/library/ms648383%28VS.85%29.aspx
	Resize the Keyboard KeyState to the proper size. The current 1024 is hackish.

Platform:

	We need a crash handler!!! :)
	Cross-platform Clipboard access
	Multithreaded timing and timing leaps (check SFML tracker / OGRE code for more info.)
		
Rendering:

	Font handling via FreeType 2
	Signed distance fonts
	Bitmap font file format (and converter for some freeware generator tool)
	Add Blending defaults (Modulate, Replace, etc)

VFS:

	Patch PhysFS to use the proper user dir for App Data on Windows
	Fix Watcher (though it seems to be doing the right thing).

Engine Modularization/Simplification Work
	
	Compile as DLL (Reverted)
	Implement ResourceLoaders as (static) plugins	
	Rename Timer into Stopwatch

http://www.introgamedev.com/general_memory.html
http://xania.org/200512/crt-heap-fragmentation-in-windows
http://blog.pavlov.net/2007/11/11/windows-low-fragmentation-heap/
http://msdn.microsoft.com/en-us/library/aa366750%28VS.85%29.aspx
http://www.gamasutra.com/view/feature/2971/play_by_play_effective_memory_.php


Check skinning limit in shader

GLint location = glGetUniformLocation(mProgramID, name);
if (location == -1)
   return NULL;

// now find it in the list of uniforms to get type and size
GLint numUniforms = 0;
glGetProgramiv( mProgramID, GL_ACTIVE_UNIFORMS, &numUniforms );

GLint uniformMaxLength = 0;
glGetProgramiv( mProgramID, GL_ACTIVE_UNIFORM_MAX_LENGTH,  &uniformMaxLength );

GLint count = -1;
GLenum type = 0;
GLchar* uniformName = new GLchar[uniformMaxLength];

for( GLint i = 0; i < numUniforms; ++i )
{
   GLsizei length;
   glGetActiveUniform(    mProgramID, i, uniformMaxLength, &length,  &count, &type, uniformName);                     if ( strcmp(uniformName, name) == 0 )
	   break;
}

delete [] uniformName;



linear_depth = (2.0 * znear) / (zfar + znear - exp_depth * (zfar - znear));
float kDepth = 1.0 - ( gl_FragCoord.z / gl_FragCoord.w ) / ( v_farPlane - v_nearPlane );